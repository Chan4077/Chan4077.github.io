<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#3948ab">
  <meta name="google-site-verification" content="vUIz5bcO8VS4oqWX-A9VBtLKrqwl5ZrnbuUw4serhEU" /><meta name="description" content="My personal Github pages website.">
  
  
  <link rel="stylesheet" href="/css/site.css">
  <link rel="canonical" href="https://chan4077.github.io/node_modules/@material/icon-button/">
  <link rel="alternate" type="application/rss+xml" title="Chan4077.GitHub.io" href="https://chan4077.github.io/feed.xml">
  <link rel="manifest" href="/manifest.json"><link href='https://fonts.googleapis.com/css?family=Material+Icons+Outlined|Roboto+Condensed:400,300,700|Roboto:300,400,500|Roboto+Mono:300'
    rel='stylesheet' type='text/css' />
  <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Chan4077.GitHub.io | My personal Github pages website.</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Chan4077.GitHub.io" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="My personal Github pages website." />
<meta property="og:description" content="My personal Github pages website." />
<link rel="canonical" href="https://chan4077.github.io/node_modules/@material/icon-button/" />
<meta property="og:url" content="https://chan4077.github.io/node_modules/@material/icon-button/" />
<meta property="og:site_name" content="Chan4077.GitHub.io" />
<script type="application/ld+json">
{"description":"My personal Github pages website.","@type":"WebPage","headline":"Chan4077.GitHub.io","url":"https://chan4077.github.io/node_modules/@material/icon-button/","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>


  <body class="mdc-typography"><aside class="mdc-drawer mdc-drawer--modal" id="app-drawer">
  <!-- <div class="mdc-drawer__header">
    <h3 class="mdc-drawer__title">Mail</h3>
    <h6 class="mdc-drawer__subtitle">email@material.io</h6>
  </div> -->
  <div class="mdc-drawer__content">
    <nav class="mdc-list">
      <h6 class="mdc-list-group__subheader">Links</h6>
      <a class="mdc-list-item" href="/" aria-selected="true" data-mdc-auto-init="MDCRipple" id="home-list-item">
        <span class="material-icons-outlined mdc-list-item__graphic" aria-hidden="true">home</span>
        <span class="mdc-list-item__text">Home</span>
      </a>
      <a class="mdc-list-item" href="/blog" data-mdc-auto-init="MDCRipple" id="blog-list-item">
        <!-- See https://materialdesignicons.com/icon/book-open-page-variant -->
        <svg class="mdc-list-item__graphic" aria-hidden="true" width="24" height="24" viewBox="0 0 24 24">
          <path d="M19,2L14,6.5V17.5L19,13V2M6.5,5C4.55,5 2.45,5.4 1,6.5V21.16C1,21.41 1.25,21.66 1.5,21.66C1.6,21.66 1.65,21.59 1.75,21.59C3.1,20.94 5.05,20.5 6.5,20.5C8.45,20.5 10.55,20.9 12,22C13.35,21.15 15.8,20.5 17.5,20.5C19.15,20.5 20.85,20.81 22.25,21.56C22.35,21.61 22.4,21.59 22.5,21.59C22.75,21.59 23,21.34 23,21.09V6.5C22.4,6.05 21.75,5.75 21,5.5V7.5L21,13V19C19.9,18.65 18.7,18.5 17.5,18.5C15.8,18.5 13.35,19.15 12,20V13L12,8.5V6.5C10.55,5.4 8.45,5 6.5,5V5Z" />
        </svg>
        <span class="mdc-list-item__text">Blog</span>
      </a>
      <a href="/til" class="mdc-list-item" data-mdc-auto-init="MDCRipple" id="til-list-item">
        <svg class="mdc-list-item__graphic" aria-hidden="true" width="24" height="24" viewBox="0 0 24 24">
          <path d="M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M11,18H13V15.87C14.73,15.43 16,13.86 16,12A4,4 0 0,0 12,8A4,4 0 0,0 8,12C8,13.86 9.27,15.43 11,15.87V18Z" />
        </svg>
        <span class="mdc-list-item__text">Today I Learned (TIL)</span>
      </a>
      <a class="mdc-list-item" href="/about" data-mdc-auto-init="MDCRipple" id="about-list-item">
        <span class="material-icons-outlined mdc-list-item__graphic" aria-hidden="true">info</span>
        <span class="mdc-list-item__text">About</span>
      </a>
      <a href="/projects" class="mdc-list-item" data-mdc-auto-init="MDCRipple" id="projects-list-item">
        <!-- See https://materialdesignicons.com/icon/flask -->
        <svg class="mdc-list-item__graphic" aria-hidden="true">
          <path d="M6,22A3,3 0 0,1 3,19C3,18.4 3.18,17.84 3.5,17.37L9,7.81V6A1,1 0 0,1 8,5V4A2,2 0 0,1 10,2H14A2,2 0 0,1 16,4V5A1,1 0 0,1 15,6V7.81L20.5,17.37C20.82,17.84 21,18.4 21,19A3,3 0 0,1 18,22H6M5,19A1,1 0 0,0 6,20H18A1,1 0 0,0 19,19C19,18.79 18.93,18.59 18.82,18.43L16.53,14.47L14,17L8.93,11.93L5.18,18.43C5.07,18.59 5,18.79 5,19M13,10A1,1 0 0,0 12,11A1,1 0 0,0 13,12A1,1 0 0,0 14,11A1,1 0 0,0 13,10Z" />
        </svg>
        <span class="mdc-list-item__text">Projects</span>
      </a>
      <a href="/privacy-policy" class="mdc-list-item" data-mdc-auto-init="MDCRipple" id="privacy-policy-list-item">
        <span class="material-icons-outlined mdc-list-item__graphic" aria-hidden="true">lock</span>
        <span class="mdc-list-item__text">Privacy policy</span>
      </a>
      <hr class="mdc-list-divider">
      <a href="https://github.com/Chan4077/chan4077.github.io" class="mdc-list-item" data-mdc-auto-init="MDCRipple" id="source-code-list-item">
        <span class="material-icons-outlined mdc-list-item__graphic" aria-hidden="true">code</span>
        <span class="mdc-list-item__text">View source code</span>
      </a>
    </nav>
  </div>
</aside>
<div class="mdc-drawer-scrim"></div>
<header class="mdc-top-app-bar mdc-top-app-bar--fixed" id="app-bar">
  <div class="mdc-top-app-bar__row">
    <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
      <button role="button" class="material-icons-outlined mdc-top-app-bar__navigation-icon">menu</button>
      <span class="mdc-top-app-bar__title">Chan4077.GitHub.io</span>
    </section>

    <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end mdc-typography" role="toolbar"><button id="print-btn" class="material-icons-outlined mdc-top-app-bar__action-item" aria-label="Print this page" title="Print this page">print</button>
    </section>
  </div>
</header>
<main class="mdc-top-app-bar--fixed-adjust" id="page-content">
      <div class="mdc-layout-grid">
  <div class="mdc-layout-grid__inner mdc-typography">
    <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">
      <h1 class="mdc-typography--headline2"></h1>
      <div class="page">
        <!--docs:
title: "Icon Buttons"
layout: detail
section: components
iconId: button
path: /catalog/buttons/icon-buttons/
-->

<h1 id="icon-buttons">Icon Buttons</h1>

<!--<div class="article__asset">
  <a class="article__asset-link"
     href="https://material-components.github.io/material-components-web-catalog/#/component/icon-button">
    <img src="/images/mdc_web_screenshots/icon-toggles.png" width="20" alt="Icon buttons screenshot">
  </a>
</div>-->

<p>Icon buttons allow users to take actions, and make choices, with a single tap.</p>

<h2 id="design--api-documentation">Design &amp; API Documentation</h2>

<ul class="icon-list">
  <li class="icon-list-item icon-list-item--spec">
    <a href="https://material.io/go/design-buttons#toggle-button">Material Design guidelines: Toggle buttons</a>
  </li>
  <li class="icon-list-item icon-list-item--link">
    <a href="https://material-components.github.io/material-components-web-catalog/#/component/icon-button">Demo</a>
  </li>
</ul>

<h2 id="installation">Installation</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install @material/icon-button
</code></pre></div></div>

<h2 id="usage">Usage</h2>

<h3 id="html-structure">HTML Structure</h3>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"mdc-icon-button material-icons"</span><span class="nt">&gt;</span>favorite<span class="nt">&lt;/button&gt;</span>
</code></pre></div></div>

<blockquote>
  <p>Note: The MDC Icon Button can be used with <code class="highlighter-rouge">&lt;button&gt;</code> and <code class="highlighter-rouge">&lt;a&gt;</code> tags.</p>
</blockquote>

<blockquote>
  <p>Note: IE11 will not center the icon properly if there is a newline or space after the material icon text.</p>
</blockquote>

<h3 id="styles">Styles</h3>

<div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@import</span> <span class="s2">"@material/icon-button/mdc-icon-button"</span><span class="p">;</span>
</code></pre></div></div>

<h3 id="javascript-instantiation">JavaScript Instantiation</h3>

<p>The icon button will work without JavaScript, but you can enhance it to have a ripple effect by instantiating <code class="highlighter-rouge">MDCRipple</code> on the root element.
See <a href="../mdc-ripple">MDC Ripple</a> for details.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">MDCRipple</span><span class="p">}</span> <span class="k">from</span> <span class="s1">'@material/ripple'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">iconButtonRipple</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MDCRipple</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'.mdc-icon-button'</span><span class="p">));</span>
<span class="nx">iconButtonRipple</span><span class="p">.</span><span class="nx">unbounded</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</code></pre></div></div>

<blockquote>
  <p>See <a href="../../docs/importing-js.md">Importing the JS component</a> for more information on how to import JavaScript.</p>
</blockquote>

<h2 id="variants">Variants</h2>

<h3 id="icon-button-toggle">Icon Button Toggle</h3>

<p>The icon button can be used to toggle between an on and off icon. To style an icon button as an icon button toggle, add
both icons as child elements and place the <code class="highlighter-rouge">mdc-icon-button__icon--on</code> class on the icon that represents the on element.
If the button should be initialized in the “on” state, then add the <code class="highlighter-rouge">mdc-icon-button--on</code> class to the parent <code class="highlighter-rouge">button</code>.
Then instantiate an <code class="highlighter-rouge">MDCIconButtonToggle</code> on the root element.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">"add-to-favorites"</span>
   <span class="na">class=</span><span class="s">"mdc-icon-button"</span>
   <span class="na">aria-label=</span><span class="s">"Add to favorites"</span>
   <span class="na">aria-hidden=</span><span class="s">"true"</span>
   <span class="na">aria-pressed=</span><span class="s">"false"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;i</span> <span class="na">class=</span><span class="s">"material-icons mdc-icon-button__icon mdc-icon-button__icon--on"</span><span class="nt">&gt;</span>favorite<span class="nt">&lt;/i&gt;</span>
   <span class="nt">&lt;i</span> <span class="na">class=</span><span class="s">"material-icons mdc-icon-button__icon"</span><span class="nt">&gt;</span>favorite_border<span class="nt">&lt;/i&gt;</span>
<span class="nt">&lt;/button&gt;</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">toggleButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">mdc</span><span class="p">.</span><span class="nx">iconButton</span><span class="p">.</span><span class="nx">MDCIconButtonToggle</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'add-to-favorites'</span><span class="p">));</span>
</code></pre></div></div>

<h4 id="icon-button-toggle-with-svg">Icon Button Toggle with SVG</h4>

<p>The icon button toggle can be used with SVGs.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">"star-this-item"</span>
   <span class="na">class=</span><span class="s">"mdc-icon-button mdc-icon-button--on"</span>
   <span class="na">aria-label=</span><span class="s">"Unstar this item"</span>
   <span class="na">aria-hidden=</span><span class="s">"true"</span>
   <span class="na">aria-pressed=</span><span class="s">"true"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;svg</span> <span class="na">class=</span><span class="s">"mdc-icon-button__icon"</span><span class="nt">&gt;</span>
     ...
   <span class="nt">&lt;/svg&gt;</span>
   <span class="nt">&lt;svg</span> <span class="na">class=</span><span class="s">"mdc-icon-button__icon mdc-icon-button__icon--on"</span><span class="nt">&gt;</span>
     ...
  <span class="nt">&lt;/svg&gt;</span>
<span class="nt">&lt;/button&gt;</span>
</code></pre></div></div>

<h4 id="icon-button-toggle-with-an-image">Icon Button Toggle with an Image</h4>

<p>The icon button toggle can be used with <code class="highlighter-rouge">img</code> tags.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;button</span> <span class="na">id=</span><span class="s">"star-this-item"</span>
   <span class="na">class=</span><span class="s">"mdc-icon-button mdc-icon-button--on"</span>
   <span class="na">aria-label=</span><span class="s">"Unstar this item"</span>
   <span class="na">aria-hidden=</span><span class="s">"true"</span>
   <span class="na">aria-pressed=</span><span class="s">"true"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">""</span> <span class="na">class=</span><span class="s">"mdc-icon-button__icon"</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">""</span> <span class="na">class=</span><span class="s">"mdc-icon-button__icon mdc-icon-button__icon--on"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/button&gt;</span>
</code></pre></div></div>

<h3 id="icons">Icons</h3>

<p>We recommend using <a href="https://material.io/tools/icons/">Material Icons</a> from Google Fonts:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"https://fonts.googleapis.com/icon?family=Material+Icons"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>
</code></pre></div></div>

<p>However, you can also use SVG, <a href="https://fontawesome.com/">Font Awesome</a>, or any other icon library you wish.</p>

<h3 id="disabled">Disabled</h3>

<p>To disable an icon, add the <code class="highlighter-rouge">disabled</code> attribute directly to the <code class="highlighter-rouge">&lt;button&gt;</code> element. Icon buttons that use the <code class="highlighter-rouge">&lt;a&gt;</code> tag
cannot be disabled. Disabled icon buttons cannot be interacted with and have no visual interaction effect.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"mdc-icon-button material-icons"</span> <span class="na">disabled</span><span class="nt">&gt;</span>favorite<span class="nt">&lt;/button&gt;</span>
</code></pre></div></div>

<h2 id="style-customization">Style Customization</h2>

<h3 id="css-classes">CSS Classes</h3>

<table>
  <thead>
    <tr>
      <th>CSS Class</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">mdc-icon-button</code></td>
      <td>Mandatory.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">mdc-icon-button--on</code></td>
      <td>This class is applied to the root element and is used to indicate if the icon button toggle is in the “on” state.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">mdc-icon-button__icon</code></td>
      <td>This class is applied to each icon element for the icon button toggle.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">mdc-icon-button__icon--on</code></td>
      <td>This class is applied to a icon element and is used to indicate the toggle button icon that is represents the “on” icon.</td>
    </tr>
  </tbody>
</table>

<h3 id="sass-mixins">Sass Mixins</h3>

<p>To customize an icon button’s color and properties, you can use the following mixins.</p>

<table>
  <thead>
    <tr>
      <th>Mixin</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">mdc-icon-button-size($width, $height, $padding)</code></td>
      <td>Sets the width, height, font-size and padding for the icon and ripple. <code class="highlighter-rouge">$height</code> is optional and defaults to <code class="highlighter-rouge">$width</code>. <code class="highlighter-rouge">$padding</code> is optional and defaults to <code class="highlighter-rouge">max($width, $height)/2</code>. <code class="highlighter-rouge">font-size</code> is set to <code class="highlighter-rouge">max($width, $height)</code>.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">mdc-icon-button-ink-color($color)</code></td>
      <td>Sets the font color and the ripple color to the provided color value.</td>
    </tr>
  </tbody>
</table>

<h2 id="mdciconbuttontoggle-properties-and-methods"><code class="highlighter-rouge">MDCIconButtonToggle</code> Properties and Methods</h2>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Value Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">on</code></td>
      <td>Boolean</td>
      <td>Sets the toggle state to the provided <code class="highlighter-rouge">isOn</code> value.</td>
    </tr>
  </tbody>
</table>

<h3 id="events">Events</h3>

<table>
  <thead>
    <tr>
      <th>Event Name</th>
      <th>Event Data Structure</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">MDCIconButtonToggle:change</code></td>
      <td><code class="highlighter-rouge">{"detail": {"isOn": boolean}}</code></td>
      <td>Emits when the icon is toggled.</td>
    </tr>
  </tbody>
</table>

<h2 id="usage-within-web-frameworks">Usage within Web Frameworks</h2>

<p>If you are using a JavaScript framework, such as React or Angular, you can create an Icon Button Toggle for your framework. Depending on your needs, you can use the <em>Simple Approach: Wrapping MDC Web Vanilla Components</em>, or the <em>Advanced Approach: Using Foundations and Adapters</em>. Please follow the instructions <a href="../../docs/integrating-into-frameworks.md">here</a>.</p>

<h3 id="mdciconbuttontoggleadapter"><code class="highlighter-rouge">MDCIconButtonToggleAdapter</code></h3>

<table>
  <thead>
    <tr>
      <th>Method Signature</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">addClass(className: string) =&gt; void</code></td>
      <td>Adds a class to the root element.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">removeClass(className: string) =&gt; void</code></td>
      <td>Removes a class from the root element.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">hasClass(className: string) =&gt; boolean</code></td>
      <td>Determines whether the root element has the given CSS class name.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">setAttr(name: string, value: string) =&gt; void</code></td>
      <td>Sets the attribute <code class="highlighter-rouge">name</code> to <code class="highlighter-rouge">value</code> on the root element.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">notifyChange(evtData: {isOn: boolean}) =&gt; void</code></td>
      <td>Broadcasts a change notification, passing along the <code class="highlighter-rouge">evtData</code> to the environment’s event handling system. In our vanilla implementation, Custom Events are used for this.</td>
    </tr>
  </tbody>
</table>

<h3 id="foundation-mdciconbuttontogglefoundation">Foundation: <code class="highlighter-rouge">MDCIconButtonToggleFoundation</code></h3>

<table>
  <thead>
    <tr>
      <th>Method Signature</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">handleClick()</code></td>
      <td>Event handler triggered on the click event. It will toggle the icon from on/off and update aria attributes.</td>
    </tr>
  </tbody>
</table>

      </div>
    </div>
  </div>
</div>

    </main><div class="mdc-snackbar" id="update-available-snackbar">
  <div class="mdc-snackbar__surface">
    <div class="mdc-snackbar__label"
         role="status"
         aria-live="polite">
      An update is available!
    </div>
    <div class="mdc-snackbar__actions">
      <button type="button" class="mdc-button mdc-snackbar__action" data-mdc-auto-init="MDCRipple">Update</button>
      <button class="mdc-icon-button mdc-snackbar__dismiss material-icons-outlined" title="Dismiss" data-mdc-auto-init="MDCRipple">close</button>
    </div>
  </div>
</div>
</body><script src="/node_modules/material-components-web/dist/material-components-web.min.js"></script>
<script src="/js/site.js"></script>
<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  
  ga('create', 'UA-82448435-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
<!-- Workbox initialisation -->
<script>
  // Check that service workers are registered
  if ('serviceWorker' in navigator) {
    // Use the window load event to keep the page load performant
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/service-worker.js');
    });
  }
</script>
<!-- End Workbox initialisation -->
<!-- Notification for service worker updates -->
<script type="module">
  import {Workbox} from 'https://storage.googleapis.com/workbox-cdn/releases/4.2.0/workbox-window.prod.mjs';
  const updateAvailableSnackbar = mdc.snackbar.MDCSnackbar.attachTo(document.getElementById('update-available-snackbar'));
  
  if ('serviceWorker' in navigator) {
    const wb = new Workbox('/service-worker.js');
  
    // Add an event listener to detect when the registered
    // service worker has installed but is waiting to activate.
    wb.addEventListener('waiting', (event) => {
      // `event.wasWaitingBeforeRegister` will be false if this is
      // the first time the updated service worker is waiting.
      // When `event.wasWaitingBeforeRegister` is true, a previously
      // updated same service worker is still waiting.
      // You may want to customize the UI prompt accordingly.
      console.log('Service worker has been installed but is waiting to activate. Showing update available snackbar.');
      updateAvailableSnackbar.open();
      updateAvailableSnackbar.listen('MDCSnackbar:closed', (event) => {
        if (event.detail && event.detail.reason) {
          if (event.detail.reason == 'action') {
            console.log('User clicked on the action.');
            // Assuming the user accepted the update, set up a listener
            // that will reload the page as soon as the previously waiting
            // service worker has taken control.
            wb.addEventListener('controlling', (event) => {
              console.log('Previously waiting service worker has taken control. Reloading...');
              window.location.reload();
            });
            // Send a message telling the service worker to skip waiting.
            // This will trigger the `controlling` event handler above.
            // Note: for this to work, you have to add a message
            // listener in your service worker. See below.
            console.log('Messaging service worker to skip waiting...');
            wb.messageSW({type: 'SKIP_WAITING'});
          }
        }
      })
    });
  
    wb.register();
  }
</script>
<!-- End notification for service worker updates -->
</html>
