<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#3948ab">
  <meta name="google-site-verification" content="vUIz5bcO8VS4oqWX-A9VBtLKrqwl5ZrnbuUw4serhEU" /><meta name="description" content="My personal Github pages website.">
  
  
  <link rel="stylesheet" href="/css/site.css">
  <link rel="canonical" href="https://edricchan03.github.io/node_modules/@material/ripple/">
  <link rel="alternate" type="application/rss+xml" title="Edric's website" href="https://edricchan03.github.io/feed.xml">
  <link rel="manifest" href="/manifest.json"><link href='https://fonts.googleapis.com/css?family=Material+Icons+Outlined|Roboto+Condensed:400,300,700|Roboto:300,400,500|Roboto+Mono:300'
    rel='stylesheet' type='text/css' />
  <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Edric’s website | My personal Github pages website.</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Edric’s website" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="My personal Github pages website." />
<meta property="og:description" content="My personal Github pages website." />
<link rel="canonical" href="https://edricchan03.github.io/node_modules/@material/ripple/" />
<meta property="og:url" content="https://edricchan03.github.io/node_modules/@material/ripple/" />
<meta property="og:site_name" content="Edric’s website" />
<script type="application/ld+json">
{"description":"My personal Github pages website.","@type":"WebPage","url":"https://edricchan03.github.io/node_modules/@material/ripple/","headline":"Edric’s website","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>


  <body class="mdc-typography"><aside class="mdc-drawer mdc-drawer--modal" id="app-drawer">
  <!-- <div class="mdc-drawer__header">
    <h3 class="mdc-drawer__title">Mail</h3>
    <h6 class="mdc-drawer__subtitle">email@material.io</h6>
  </div> -->
  <div class="mdc-drawer__content">
    <nav class="mdc-list">
      <h6 class="mdc-list-group__subheader">Links</h6>
      <a class="mdc-list-item" href="/" aria-selected="true" data-mdc-auto-init="MDCRipple" id="home-list-item">
        <span class="material-icons-outlined mdc-list-item__graphic" aria-hidden="true">home</span>
        <span class="mdc-list-item__text">Home</span>
      </a>
      <a class="mdc-list-item" href="/blog" data-mdc-auto-init="MDCRipple" id="blog-list-item">
        <!-- See https://materialdesignicons.com/icon/book-open-page-variant -->
        <svg class="mdc-list-item__graphic" aria-hidden="true" width="24" height="24" viewBox="0 0 24 24">
          <path d="M19,2L14,6.5V17.5L19,13V2M6.5,5C4.55,5 2.45,5.4 1,6.5V21.16C1,21.41 1.25,21.66 1.5,21.66C1.6,21.66 1.65,21.59 1.75,21.59C3.1,20.94 5.05,20.5 6.5,20.5C8.45,20.5 10.55,20.9 12,22C13.35,21.15 15.8,20.5 17.5,20.5C19.15,20.5 20.85,20.81 22.25,21.56C22.35,21.61 22.4,21.59 22.5,21.59C22.75,21.59 23,21.34 23,21.09V6.5C22.4,6.05 21.75,5.75 21,5.5V7.5L21,13V19C19.9,18.65 18.7,18.5 17.5,18.5C15.8,18.5 13.35,19.15 12,20V13L12,8.5V6.5C10.55,5.4 8.45,5 6.5,5V5Z" />
        </svg>
        <span class="mdc-list-item__text">Blog</span>
      </a>
      <a href="/til" class="mdc-list-item" data-mdc-auto-init="MDCRipple" id="til-list-item">
        <svg class="mdc-list-item__graphic" aria-hidden="true" width="24" height="24" viewBox="0 0 24 24">
          <path d="M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M11,18H13V15.87C14.73,15.43 16,13.86 16,12A4,4 0 0,0 12,8A4,4 0 0,0 8,12C8,13.86 9.27,15.43 11,15.87V18Z" />
        </svg>
        <span class="mdc-list-item__text">Today I Learned (TIL)</span>
      </a>
      <a class="mdc-list-item" href="/about" data-mdc-auto-init="MDCRipple" id="about-list-item">
        <span class="material-icons-outlined mdc-list-item__graphic" aria-hidden="true">info</span>
        <span class="mdc-list-item__text">About</span>
      </a>
      <a href="/projects" class="mdc-list-item" data-mdc-auto-init="MDCRipple" id="projects-list-item">
        <!-- See https://materialdesignicons.com/icon/flask -->
        <svg class="mdc-list-item__graphic" aria-hidden="true">
          <path d="M6,22A3,3 0 0,1 3,19C3,18.4 3.18,17.84 3.5,17.37L9,7.81V6A1,1 0 0,1 8,5V4A2,2 0 0,1 10,2H14A2,2 0 0,1 16,4V5A1,1 0 0,1 15,6V7.81L20.5,17.37C20.82,17.84 21,18.4 21,19A3,3 0 0,1 18,22H6M5,19A1,1 0 0,0 6,20H18A1,1 0 0,0 19,19C19,18.79 18.93,18.59 18.82,18.43L16.53,14.47L14,17L8.93,11.93L5.18,18.43C5.07,18.59 5,18.79 5,19M13,10A1,1 0 0,0 12,11A1,1 0 0,0 13,12A1,1 0 0,0 14,11A1,1 0 0,0 13,10Z" />
        </svg>
        <span class="mdc-list-item__text">Projects</span>
      </a>
      <a href="/privacy-policy" class="mdc-list-item" data-mdc-auto-init="MDCRipple" id="privacy-policy-list-item">
        <span class="material-icons-outlined mdc-list-item__graphic" aria-hidden="true">lock</span>
        <span class="mdc-list-item__text">Privacy policy</span>
      </a>
      <hr class="mdc-list-divider">
      <a href="https://github.com/Chan4077/chan4077.github.io" class="mdc-list-item" data-mdc-auto-init="MDCRipple" id="source-code-list-item">
        <span class="material-icons-outlined mdc-list-item__graphic" aria-hidden="true">code</span>
        <span class="mdc-list-item__text">View source code</span>
      </a>
    </nav>
  </div>
</aside>
<div class="mdc-drawer-scrim"></div>
<header class="mdc-top-app-bar mdc-top-app-bar--fixed" id="app-bar">
  <div class="mdc-top-app-bar__row">
    <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
      <button role="button" class="material-icons-outlined mdc-top-app-bar__navigation-icon">menu</button>
      <span class="mdc-top-app-bar__title">Edric's website</span>
    </section>

    <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end mdc-typography" role="toolbar"><button id="print-btn" class="material-icons-outlined mdc-top-app-bar__action-item" aria-label="Print this page" title="Print this page">print</button>
    </section>
  </div>
</header>
<main class="mdc-top-app-bar--fixed-adjust" id="page-content">
      <div class="mdc-layout-grid">
  <div class="mdc-layout-grid__inner mdc-typography">
    <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">
      <h1 class="mdc-typography--headline2"></h1>
      <div class="page">
        <!--docs:
title: "Ripples"
layout: detail
section: components
excerpt: "Ink ripple touch feedback effect."
iconId: ripple
path: /catalog/ripples/
-->

<h1 id="ripple">Ripple</h1>

<p>MDC Ripple provides the JavaScript and CSS required to provide components (or any element at all) with a material “ink ripple” interaction effect. It is designed to be efficient, uninvasive, and usable without adding any extra DOM to your elements.</p>

<p>MDC Ripple also works without JavaScript, where it gracefully degrades to a simpler CSS-Only implementation.</p>

<h2 id="design--api-documentation">Design &amp; API Documentation</h2>

<ul class="icon-list">
  <li class="icon-list-item icon-list-item--spec">
    <a href="https://material.io/go/design-states">Material Design guidelines: States</a>
  </li>
  <li class="icon-list-item icon-list-item--link">
    <a href="https://material-components.github.io/material-components-web-catalog/#/component/ripple">Demo</a>
  </li>
</ul>

<h2 id="installation">Installation</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install @material/ripple
</code></pre></div></div>

<h2 id="usage">Usage</h2>

<p>A ripple can be applied to a variety of elements to represent interactive surfaces. Several MDC Web components, such as Button, FAB, Checkbox and Radio, also use ripples.</p>

<p>A ripple can be added to an element through either a JavaScript or CSS-only implementation. When a ripple is initialized on an element using JS, it dynamically adds a <code class="highlighter-rouge">mdc-ripple-upgraded</code> class to that element. If ripple JS is not initialized but Sass mixins are included on the element, the ripple uses a simpler CSS-only implementation which relies on the <code class="highlighter-rouge">:hover</code>, <code class="highlighter-rouge">:focus</code>, and <code class="highlighter-rouge">:active</code> pseudo-classes.</p>

<h3 id="css-classes">CSS Classes</h3>

<table>
  <thead>
    <tr>
      <th>CSS Class</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">mdc-ripple-surface</code></td>
      <td>Adds a ripple to the element</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">mdc-ripple-surface--primary</code></td>
      <td>Sets the ripple color to the theme primary color</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">mdc-ripple-surface--accent</code></td>
      <td>Sets the ripple color to the theme secondary color</td>
    </tr>
  </tbody>
</table>

<h3 id="sass-apis">Sass APIs</h3>

<p>In order to fully style the ripple effect for different states (hover/focus/pressed), the following mixins must be included:</p>

<ul>
  <li><code class="highlighter-rouge">mdc-ripple-surface</code>, for base styles</li>
  <li>Either <code class="highlighter-rouge">mdc-ripple-radius-bounded</code> or <code class="highlighter-rouge">mdc-ripple-radius-unbounded</code>, to appropriately size the ripple on the surface</li>
  <li>Either the basic or advanced <code class="highlighter-rouge">mdc-states</code> mixins, as explained below</li>
</ul>

<h5 id="using-basic-states-mixins">Using basic states mixins</h5>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.my-surface</span> <span class="p">{</span>
  <span class="err">@include</span> <span class="err">mdc-ripple-surface;</span>
  <span class="err">@include</span> <span class="err">mdc-ripple-radius-bounded;</span>
  <span class="err">@include</span> <span class="err">mdc-states;</span>
<span class="p">}</span>
</code></pre></div></div>

<h5 id="using-advanced-states-mixins">Using advanced states mixins</h5>
<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.my-surface</span> <span class="p">{</span>
  <span class="err">@include</span> <span class="err">mdc-ripple-surface;</span>
  <span class="err">@include</span> <span class="err">mdc-ripple-radius-bounded;</span>
  <span class="err">@include</span> <span class="err">mdc-states-base-color(black);</span>
  <span class="err">@include</span> <span class="err">mdc-states-hover-opacity(.1);</span>
  <span class="err">@include</span> <span class="err">mdc-states-focus-opacity(.3);</span>
  <span class="err">@include</span> <span class="err">mdc-states-press-opacity(.4);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>These APIs use pseudo-elements for the ripple effect: <code class="highlighter-rouge">::before</code> for the background, and <code class="highlighter-rouge">::after</code> for the foreground.</p>

<h4 id="ripple-mixins">Ripple Mixins</h4>

<table>
  <thead>
    <tr>
      <th>Mixin</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">mdc-ripple-surface</code></td>
      <td>Mandatory. Adds base styles for a ripple surface</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">mdc-ripple-radius-bounded($radius)</code></td>
      <td>Adds styles for the radius of the ripple effect,<br />for bounded ripple surfaces</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">mdc-ripple-radius-unbounded($radius)</code></td>
      <td>Adds styles for the radius of the ripple effect,<br />for unbounded ripple surfaces</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><em>NOTE</em>: It is mandatory to include <em>either</em> <code class="highlighter-rouge">mdc-ripple-radius-bounded</code> or <code class="highlighter-rouge">mdc-ripple-radius-unbounded</code>. In both cases, <code class="highlighter-rouge">$radius</code> is optional and defaults to <code class="highlighter-rouge">100%</code>.</p>
</blockquote>

<h4 id="basic-states-mixins">Basic States Mixins</h4>

<table>
  <thead>
    <tr>
      <th>Mixin</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">mdc-states($color, $has-nested-focusable-element)</code></td>
      <td>Mandatory. Adds state and ripple styles in the given color</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">mdc-states-activated($color, $has-nested-focusable-element)</code></td>
      <td>Optional. Adds state and ripple styles for activated states in the given color</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">mdc-states-selected($color, $has-nested-focusable-element)</code></td>
      <td>Optional. Adds state and ripple styles for selected states in the given color</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><em>NOTE</em>: Each of the mixins above adds ripple styles using the indicated color, deciding opacity values based on whether the passed color is light or dark.</p>
</blockquote>

<blockquote>
  <p><em>NOTE</em>: The <code class="highlighter-rouge">mdc-states-activated</code> and <code class="highlighter-rouge">mdc-states-selected</code> mixins add the appropriate state styles to the root element containing <code class="highlighter-rouge">&amp;--activated</code> or <code class="highlighter-rouge">&amp;--selected</code> modifier classes respectively.</p>
</blockquote>

<blockquote>
  <p><em>NOTE</em>: <code class="highlighter-rouge">$has-nested-focusable-element</code> defaults to <code class="highlighter-rouge">false</code> but should be set to <code class="highlighter-rouge">true</code> if the component contains a focusable element (e.g. an input) inside the root element.</p>
</blockquote>

<h4 id="advanced-states-mixins">Advanced States Mixins</h4>

<p>When using the advanced states mixins instead of the basic states mixins, every one of the mixins below should be included at least once.</p>

<p>These mixins can also be used to emit activated or selected styles, by applying them within a selector for
<code class="highlighter-rouge">&amp;--activated</code> or <code class="highlighter-rouge">&amp;--selected</code> modifier classes.</p>

<table>
  <thead>
    <tr>
      <th>Mixin</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">mdc-states-base-color($color)</code></td>
      <td>Mandatory. Sets up base state styles using the provided color</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">mdc-states-hover-opacity($opacity)</code></td>
      <td>Mandatory. Adds styles for hover state using the provided opacity</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">mdc-states-focus-opacity($opacity, $has-nested-focusable-element)</code></td>
      <td>Mandatory. Adds styles for focus state using the provided opacity</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">mdc-states-press-opacity($opacity)</code></td>
      <td>Mandatory. Adds styles for press state using the provided opacity</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><em>NOTE</em>: <code class="highlighter-rouge">$has-nested-focusable-element</code> defaults to <code class="highlighter-rouge">false</code> but should be set to <code class="highlighter-rouge">true</code> if the component contains a focusable element (e.g. an input) inside the root element.</p>
</blockquote>

<h4 id="sass-functions">Sass Functions</h4>

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">mdc-states-opacity($color, $state)</code></td>
      <td>Returns the appropriate default opacity to apply to the given color in the given state (hover, focus, press, selected, or activated)</td>
    </tr>
  </tbody>
</table>

<h3 id="mdcripple"><code class="highlighter-rouge">MDCRipple</code></h3>

<p>The <code class="highlighter-rouge">MDCRipple</code> JavaScript component allows for programmatic activation / deactivation of the ripple, for interdependent interaction between
components. For example, this is used for making form field labels trigger the ripples in their corresponding input elements.</p>

<p>To use the <code class="highlighter-rouge">MDCRipple</code> component, first <a href="../../docs/importing-js.md">import the <code class="highlighter-rouge">MDCRipple</code> JS</a>. Then, initialize the ripple with the correct DOM element.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">surface</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'.my-surface'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">ripple</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MDCRipple</span><span class="p">(</span><span class="nx">surface</span><span class="p">);</span>
</code></pre></div></div>

<p>You can also use <code class="highlighter-rouge">attachTo()</code> as an alias if you don’t care about retaining a reference to the
ripple.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">MDCRipple</span><span class="p">.</span><span class="nx">attachTo</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'.my-surface'</span><span class="p">));</span>
</code></pre></div></div>

<p>Property | Value Type | Description
— | — | —
<code class="highlighter-rouge">unbounded</code> | Boolean | Whether or not the ripple is unbounded</p>
<blockquote>
  <p><em>NOTE</em>: Surfaces for bounded ripples should have the <code class="highlighter-rouge">overflow</code> property set to <code class="highlighter-rouge">hidden</code>, while surfaces for unbounded ripples should have it set to <code class="highlighter-rouge">visible</code>.</p>
</blockquote>

<table>
  <thead>
    <tr>
      <th>Method Signature</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">activate() =&gt; void</code></td>
      <td>Proxies to the foundation’s <code class="highlighter-rouge">activate</code> method</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">deactivate() =&gt; void</code></td>
      <td>Proxies to the foundation’s <code class="highlighter-rouge">deactivate</code> method</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">layout() =&gt; void</code></td>
      <td>Proxies to the foundation’s <code class="highlighter-rouge">layout</code> method</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">handleFocus() =&gt; void</code></td>
      <td>Handles focus event on the ripple surface</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">handleBlur() =&gt; void</code></td>
      <td>Handles blur event on the ripple surface</td>
    </tr>
  </tbody>
</table>

<h3 id="mdcrippleadapter"><code class="highlighter-rouge">MDCRippleAdapter</code></h3>

<table>
  <thead>
    <tr>
      <th>Method Signature</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">browserSupportsCssVars() =&gt; boolean</code></td>
      <td>Whether or not the given browser supports CSS Variables.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">isUnbounded() =&gt; boolean</code></td>
      <td>Whether or not the ripple should be considered unbounded.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">isSurfaceActive() =&gt; boolean</code></td>
      <td>Whether or not the surface the ripple is acting upon is <a href="https://www.w3.org/TR/css3-selectors/#useraction-pseudos">active</a></td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">isSurfaceDisabled() =&gt; boolean</code></td>
      <td>Whether or not the ripple is attached to a disabled component</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">addClass(className: string) =&gt; void</code></td>
      <td>Adds a class to the ripple surface</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">removeClass(className: string) =&gt; void</code></td>
      <td>Removes a class from the ripple surface</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">containsEventTarget(target: EventTarget) =&gt; boolean</code></td>
      <td>Whether or not the ripple surface contains the given event target</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">registerInteractionHandler(evtType: string, handler: EventListener) =&gt; void</code></td>
      <td>Registers an event handler on the ripple surface</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">deregisterInteractionHandler(evtType: string, handler: EventListener) =&gt; void</code></td>
      <td>Unregisters an event handler on the ripple surface</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">registerDocumentInteractionHandler(evtType: string, handler: EventListener) =&gt; void</code></td>
      <td>Registers an event handler on the documentElement</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">deregisterDocumentInteractionHandler(evtType: string, handler: EventListener) =&gt; void</code></td>
      <td>Unregisters an event handler on the documentElement</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">registerResizeHandler(handler: Function) =&gt; void</code></td>
      <td>Registers a handler to be called when the ripple surface (or its viewport) resizes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">deregisterResizeHandler(handler: Function) =&gt; void</code></td>
      <td>Unregisters a handler to be called when the ripple surface (or its viewport) resizes</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">updateCssVariable(varName: string, value: (string or null)) =&gt; void</code></td>
      <td>Sets the CSS property <code class="highlighter-rouge">varName</code> on the ripple surface to the value specified</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">computeBoundingRect() =&gt; ClientRect</code></td>
      <td>Returns the ClientRect for the surface</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">getWindowPageOffset() =&gt; {x: number, y: number}</code></td>
      <td>Returns the <code class="highlighter-rouge">page{X,Y}Offset</code> values for the window object</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><em>NOTE</em>: When implementing <code class="highlighter-rouge">browserSupportsCssVars</code>, please take the <a href="#caveat-edge">Edge</a> and <a href="#caveat-safari">Safari 9</a> considerations into account. We provide a <code class="highlighter-rouge">supportsCssVariables</code> function within the <code class="highlighter-rouge">util.js</code> which we recommend using, as it handles this for you.</p>
</blockquote>

<h3 id="mdcripplefoundation"><code class="highlighter-rouge">MDCRippleFoundation</code></h3>

<table>
  <thead>
    <tr>
      <th>Method Signature</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">activate() =&gt; void</code></td>
      <td>Triggers an activation of the ripple (the first stage, which happens when the ripple surface is engaged via interaction, such as a <code class="highlighter-rouge">mousedown</code> or a <code class="highlighter-rouge">pointerdown</code> event). It expands from the center.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">deactivate() =&gt; void</code></td>
      <td>Triggers a deactivation of the ripple (the second stage, which happens when the ripple surface is engaged via interaction, such as a <code class="highlighter-rouge">mouseup</code> or a <code class="highlighter-rouge">pointerup</code> event). It expands from the center.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">layout() =&gt; void</code></td>
      <td>Recomputes all dimensions and positions for the ripple element. Useful if a ripple surface’s position or dimension is changed programmatically.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">setUnbounded(unbounded: boolean) =&gt; void</code></td>
      <td>Sets the ripple to be unbounded or not, based on the given boolean.</td>
    </tr>
  </tbody>
</table>

<h2 id="tipstricks">Tips/Tricks</h2>

<h3 id="using-a-sentinel-element-for-a-ripple">Using a sentinel element for a ripple</h3>

<p>Usually, you’ll want to leverage <code class="highlighter-rouge">::before</code> and <code class="highlighter-rouge">::after</code> pseudo-elements when integrating the ripple into MDC Web components. If you can’t use pseudo-elements, create a sentinel element inside your root element. The sentinel element covers the root element’s surface.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"my-component"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"mdc-ripple-surface"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="c">&lt;!-- your component DOM --&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<h3 id="unbounded-ripple">Unbounded ripple</h3>

<p>You can set a ripple to be <em>unbounded</em>, such as those used for MDC Checkboxes and MDC Radio Buttons, either imperatively in JS <em>or</em> declaratively using the DOM.</p>

<h4 id="using-js">Using JS</h4>

<p>Set the <code class="highlighter-rouge">unbounded</code> property on the <code class="highlighter-rouge">MDCRipple</code> component.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">ripple</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MDCRipple</span><span class="p">(</span><span class="nx">root</span><span class="p">);</span>
<span class="nx">ripple</span><span class="p">.</span><span class="nx">unbounded</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="using-dom">Using DOM</h4>

<p>Add a <code class="highlighter-rouge">data-mdc-ripple-is-unbounded</code> attribute to your root element.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"my-surface"</span> <span class="na">data-mdc-ripple-is-unbounded</span><span class="nt">&gt;</span>
  <span class="nt">&lt;p&gt;</span>A surface<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<h3 id="mdcripple-with-custom-functionality">MDCRipple with custom functionality</h3>

<p>Usually, you’ll want to use <code class="highlighter-rouge">MDCRipple</code> <em>along</em> with the component for the actual UI element you’re trying to add a
ripple to. <code class="highlighter-rouge">MDCRipple</code> has a static <code class="highlighter-rouge">createAdapter(instance)</code> method that can be used to instantiate a ripple within
any <code class="highlighter-rouge">MDCComponent</code> that requires custom adapter functionality.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">MyMDCComponent</span> <span class="kd">extends</span> <span class="nx">MDCComponent</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(...</span><span class="kr">arguments</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">foundation</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MDCRippleFoundation</span><span class="p">({</span>
      <span class="p">...</span><span class="nx">MDCRipple</span><span class="p">.</span><span class="nx">createAdapter</span><span class="p">(</span><span class="k">this</span><span class="p">),</span>
      <span class="na">isSurfaceActive</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">isActive_</span><span class="p">,</span> <span class="cm">/* Custom functionality */</span>
    <span class="p">});</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">ripple</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MDCRipple</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">,</span> <span class="nx">foundation</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="handling-keyboard-events-for-custom-ui-components">Handling keyboard events for custom UI components</h3>

<p>Different keyboard events activate different elements. For example, the space key activates buttons, while the enter key activates links.</p>

<p><code class="highlighter-rouge">MDCRipple</code> uses the <code class="highlighter-rouge">adapter.isSurfaceActive()</code> method to detect whether or not a keyboard event has activated the surface the ripple is on. Our vanilla implementation of the adapter does this by checking whether the <code class="highlighter-rouge">:active</code> pseudo-class has been applied to the ripple surface. However, this approach will <em>not</em> work for custom components that the browser does not apply this pseudo-class to.</p>

<p>To make your component work properly with keyboard events, you’ll have to listen for both <code class="highlighter-rouge">keydown</code> and <code class="highlighter-rouge">keyup</code> events to set some state that determines whether or not the surface is “active”.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">MyComponent</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">element</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">root</span> <span class="o">=</span> <span class="nx">element</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">active</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'keydown'</span><span class="p">,</span> <span class="nx">evt</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">isSpace</span><span class="p">(</span><span class="nx">evt</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">active</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">});</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'keyup'</span><span class="p">,</span> <span class="nx">evt</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">isSpace</span><span class="p">(</span><span class="nx">evt</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">active</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">});</span>
    <span class="kd">const</span> <span class="nx">foundation</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MDCRippleFoundation</span><span class="p">(</span>
      <span class="p">...</span><span class="nx">MDCRipple</span><span class="p">.</span><span class="nx">createAdapter</span><span class="p">(</span><span class="k">this</span><span class="p">),</span>
      <span class="c1">// ...</span>
      <span class="na">isSurfaceActive</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">active</span>
    <span class="p">});</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">ripple</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MDCRipple</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">,</span> <span class="nx">foundation</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="specifying-known-element-dimensions-for-asynchronous-style-loading">Specifying known element dimensions for asynchronous style loading</h3>

<p>If you asynchronously load style resources, such as loading stylesheets dynamically or loading fonts, then <code class="highlighter-rouge">adapter.getClientRect()</code> may return <em>incorrect</em> dimensions if the ripple is initialized before the stylesheet/font has loaded. In this case, you can override the default behavior of <code class="highlighter-rouge">getClientRect()</code> to return the correct results.</p>

<p>For example, if you know an icon font sizes its elements to <code class="highlighter-rouge">24px</code> width and height:</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">foundation</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MDCRippleFoundation</span><span class="p">({</span>
  <span class="c1">// ...</span>
  <span class="na">computeBoundingRect</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span><span class="nx">left</span><span class="p">,</span> <span class="nx">top</span><span class="p">}</span> <span class="o">=</span> <span class="nx">element</span><span class="p">.</span><span class="nx">getBoundingClientRect</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">dim</span> <span class="o">=</span> <span class="mi">24</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">left</span><span class="p">,</span>
      <span class="nx">top</span><span class="p">,</span>
      <span class="na">width</span><span class="p">:</span> <span class="nx">dim</span><span class="p">,</span>
      <span class="na">height</span><span class="p">:</span> <span class="nx">dim</span><span class="p">,</span>
      <span class="na">right</span><span class="p">:</span> <span class="nx">left</span> <span class="o">+</span> <span class="nx">dim</span><span class="p">,</span>
      <span class="na">bottom</span><span class="p">:</span> <span class="nx">top</span> <span class="o">+</span> <span class="nx">dim</span>
    <span class="p">};</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="k">this</span><span class="p">.</span><span class="nx">ripple</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MDCRipple</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">,</span> <span class="nx">foundation</span><span class="p">);</span>
</code></pre></div></div>

<h3 id="the-util-api">The util API</h3>

<p>External frameworks and libraries can use the following utility methods when integrating a component.</p>

<table>
  <thead>
    <tr>
      <th>Method Signature</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">util.supportsCssVariables(windowObj, forceRefresh = false) =&gt; Boolean</code></td>
      <td>Determine whether the current browser supports CSS variables (custom properties)</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">util.applyPassive(globalObj = window, forceRefresh = false) =&gt; object</code></td>
      <td>Determine whether the current browser supports passive event listeners</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">util.getNormalizedEventCoords(ev, pageOffset, clientRect) =&gt; object</code></td>
      <td>Determines X/Y coordinates of an event normalized for touch events and ripples</td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p><em>NOTE</em>: The functions <code class="highlighter-rouge">util.supportsCssVariables</code> and <code class="highlighter-rouge">util.applyPassive</code> cache their results; <code class="highlighter-rouge">forceRefresh</code> will force recomputation, but is used mainly for testing and should not be necessary in normal use.</p>
</blockquote>

<h2 id="caveats">Caveats</h2>

<h3 id="caveat-edge">Caveat: Edge</h3>

<blockquote>
  <p>TL;DR ripples are disabled in Edge because of issues with its support of CSS variables in pseudo elements.</p>
</blockquote>

<p>Edge introduced CSS variables in version 15. Unfortunately, there are
<a href="https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11495448/">known issues</a>
involving its implementation for pseudo-elements, which cause ripples to behave incorrectly.
We feature-detect Edge’s buggy behavior as it pertains to <code class="highlighter-rouge">::before</code>, and do not initialize ripples if the bug is
observed. Earlier versions of Edge (and IE) do not support CSS variables at all,
and as such ripples are never initialized.</p>

<h3 id="caveat-safari-9">Caveat: Safari 9</h3>

<blockquote>
  <p>TL;DR ripples are disabled in Safari 9 because of a bug with CSS variables.</p>
</blockquote>

<p>The ripple works by updating CSS variables used by pseudo-elements. Unfortunately, in Safari 9.1, there is a bug where updating a CSS variable on an element will <em>not</em> trigger a style recalculation on that element’s pseudo-elements (try out <a href="http://codepen.io/traviskaufman/pen/jARYOR">this codepen</a> in Chrome, and then in Safari 9.1 to see the issue). Webkit builds which have this bug fixed (e.g. the builds used in Safari 10+)
support <a href="https://drafts.csswg.org/css-color/#hex-notation">CSS 4 Hex Notation</a> while those without the fix don’t. We feature-detect whether we are working with a WebKit build that can handle our usage of CSS variables.</p>

<h3 id="caveat-mobile-safari">Caveat: Mobile Safari</h3>

<blockquote>
  <p>TL;DR for CSS-only ripple styles to work as intended, register a <code class="highlighter-rouge">touchstart</code> event handler on the affected element or its ancestor.</p>
</blockquote>

<p>Mobile Safari does not trigger <code class="highlighter-rouge">:active</code> styles noticeably by default, as
<a href="https://developer.apple.com/library/content/documentation/AppleApplications/Reference/SafariWebContent/AdjustingtheTextSize/AdjustingtheTextSize.html#//apple_ref/doc/uid/TP40006510-SW5">documented</a>
in the Safari Web Content Guide. This effectively suppresses the intended pressed state styles for CSS-only ripple surfaces. This behavior can be remedied by registering a <code class="highlighter-rouge">touchstart</code> event handler on the element, or on any common ancestor of the desired elements.</p>

<p>See <a href="https://stackoverflow.com/a/33681490">this StackOverflow answer</a> for additional information on mobile Safari’s behavior.</p>

      </div>
    </div>
  </div>
</div>

    </main><div class="mdc-snackbar" id="update-available-snackbar">
  <div class="mdc-snackbar__surface">
    <div class="mdc-snackbar__label"
         role="status"
         aria-live="polite">
      An update is available!
    </div>
    <div class="mdc-snackbar__actions">
      <button type="button" class="mdc-button mdc-snackbar__action" data-mdc-auto-init="MDCRipple">Update</button>
      <button class="mdc-icon-button mdc-snackbar__dismiss material-icons-outlined" title="Dismiss" data-mdc-auto-init="MDCRipple">close</button>
    </div>
  </div>
</div>
</body><script src="/node_modules/material-components-web/dist/material-components-web.min.js"></script>
<script src="/js/site.js"></script>
<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  
  ga('create', 'UA-82448435-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
<!-- Workbox initialisation -->
<script>
  // Check that service workers are registered
  if ('serviceWorker' in navigator) {
    // Use the window load event to keep the page load performant
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/service-worker.js');
    });
  }
</script>
<!-- End Workbox initialisation -->
<!-- Notification for service worker updates -->
<script type="module">
  import {Workbox} from 'https://storage.googleapis.com/workbox-cdn/releases/4.2.0/workbox-window.prod.mjs';
  const updateAvailableSnackbar = mdc.snackbar.MDCSnackbar.attachTo(document.getElementById('update-available-snackbar'));
  
  if ('serviceWorker' in navigator) {
    const wb = new Workbox('/service-worker.js');
  
    // Add an event listener to detect when the registered
    // service worker has installed but is waiting to activate.
    wb.addEventListener('waiting', (event) => {
      // `event.wasWaitingBeforeRegister` will be false if this is
      // the first time the updated service worker is waiting.
      // When `event.wasWaitingBeforeRegister` is true, a previously
      // updated same service worker is still waiting.
      // You may want to customize the UI prompt accordingly.
      console.log('Service worker has been installed but is waiting to activate. Showing update available snackbar.');
      updateAvailableSnackbar.open();
      updateAvailableSnackbar.listen('MDCSnackbar:closed', (event) => {
        if (event.detail && event.detail.reason) {
          if (event.detail.reason == 'action') {
            console.log('User clicked on the action.');
            // Assuming the user accepted the update, set up a listener
            // that will reload the page as soon as the previously waiting
            // service worker has taken control.
            wb.addEventListener('controlling', (event) => {
              console.log('Previously waiting service worker has taken control. Reloading...');
              window.location.reload();
            });
            // Send a message telling the service worker to skip waiting.
            // This will trigger the `controlling` event handler above.
            // Note: for this to work, you have to add a message
            // listener in your service worker. See below.
            console.log('Messaging service worker to skip waiting...');
            wb.messageSW({type: 'SKIP_WAITING'});
          }
        }
      })
    });
  
    wb.register();
  }
</script>
<!-- End notification for service worker updates -->
</html>
